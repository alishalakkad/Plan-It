Make pop up of event names with code for each house?
Logout, Exit event
Delete tasks
Put the icon buttons in appropriate location



router.get('/get-tasks', function (req, res, next) {
  var resultArray = [];
  var doneTasks= [];
  console.log('eid: '+eventsId)
  mongoose.connect(CONNECTION_URL, { useNewUrlParser: true }, function (err, db) {
    assert.equal(null, err);

    db.collection("event").findOne({eventId: eventsId}, function(err, result){
      if (err) throw err;
      if (result) {
        console.log('found the event')
     //   console.log(result.members)
     //   console.log(curruser)
     membersofevents = result.members;

     if(membersofevents.includes(curruser)){
       //do nothing
     }
     else {
      membersofevents.push(curruser)
     
     
     console.log(membersofevents)
  
     db.collection("event").updateOne({eventId: eventsId},{$set : {members: membersofevents}}, function(err, result){
       if(err) throw err
       if(result) {
         console.log('updated')
       }
       else {
         console.log('not updated')
       }
     })
    }

      }
      else {
        console.log('not found')
    }
   });
  

  

    var cursor = db.collection("tasks").find({ eventcode: eventsId });
    var cursor2 = db.collection("tasksDone").find({ eventcode: eventsId });
    cursor2.forEach(function (doc, err) {
      assert.equal(null, err);
      doneTasks.push(doc);
    })
    cursor.forEach(function (doc, err) {
      assert.equal(null, err);
      resultArray.push(doc);
    }, function () {
   //   db.close();
      res.render('planner', { items: resultArray, item: nameofevent, evId: eventsId , doneTasks: doneTasks, listofmems: membersofevents });
    })
    })
  
});
